<mxfile host="app.diagrams.net" modified="2022-03-30T03:02:42.353Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.88 Safari/537.36" etag="VgxwJOtt9ha00bZn0Cug" version="16.6.6" type="github">
  <diagram name="Page-1" id="74b105a0-9070-1c63-61bc-23e55f88626e">
    <mxGraphModel dx="2906.5" dy="612" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1.5" pageWidth="1169" pageHeight="826" background="none" math="0" shadow="0">
      <root>
        <mxCell id="0" style=";html=1;" />
        <mxCell id="1" style=";html=1;" parent="0" />
        <mxCell id="10b056a9c633e61c-30" value="Fauna &amp;amp; Netlify Identity &lt;br&gt;Authentication Flow with Next.js" style="text;strokeColor=none;fillColor=none;html=1;fontSize=24;fontStyle=1;verticalAlign=middle;align=center;" parent="1" vertex="1">
          <mxGeometry x="80" y="40" width="1590" height="40" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.55;entryY=0.95;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=4;startArrow=none;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-27" target="6SLtEYj7phE97JPhrf0Y-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-62" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;startArrow=none;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-72" target="6SLtEYj7phE97JPhrf0Y-61">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-1" value="Client App &amp; HTTPS Requests" style="strokeWidth=2;dashed=0;align=center;fontSize=12;shape=rect;verticalLabelPosition=bottom;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="816" y="367.5" width="150" height="90" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startArrow=none;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-20" target="6SLtEYj7phE97JPhrf0Y-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-155" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=10;fontColor=default;startArrow=none;startFill=0;endArrow=none;endFill=0;strokeColor=#333333;strokeWidth=1;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-156" target="6SLtEYj7phE97JPhrf0Y-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-4" value="Netlify Identity&lt;br&gt;Service" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1318" y="180" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-28" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=none;endFill=0;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-25" target="6SLtEYj7phE97JPhrf0Y-27">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-25" value="Login / Refresh&lt;br&gt;https://siteurl.netlify.app/.netlify/identity/token?username=blah&amp;amp;password=blah&lt;br&gt;&lt;br&gt;Request Cookie Header:&lt;br&gt;X-Use-Cookie: 1" style="text;html=1;strokeColor=default;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;perimeterSpacing=0;strokeWidth=1;spacing=2;spacingTop=0;" vertex="1" parent="1">
          <mxGeometry x="1438" y="341.5" width="280" height="100" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-26" value="" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="867" y="386.05" width="41" height="60" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-129" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;fontSize=15;fontColor=#FF3333;startArrow=open;startFill=0;endArrow=open;endFill=0;strokeColor=#333333;strokeWidth=1;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-127" target="6SLtEYj7phE97JPhrf0Y-26">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-10" value="returns user data including role and jwt access_token" style="text;html=1;strokeColor=default;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1021" y="269" width="122" height="70" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-23" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=none;endFill=0;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-10" target="6SLtEYj7phE97JPhrf0Y-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-9" value="returns a nf_jwt&lt;br&gt;Refresh jwt cookie in header" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="661" y="216" width="155" height="30" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-14" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-9" target="6SLtEYj7phE97JPhrf0Y-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-55" value="" style="sketch=0;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#505050;labelPosition=center;verticalLabelPosition=bottom;outlineConnect=0;verticalAlign=top;align=center;shape=mxgraph.office.clouds.cloud_service_request;" vertex="1" parent="1">
          <mxGeometry x="-47.5" y="387.05" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-58" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;endArrow=none;endFill=0;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-57" target="6SLtEYj7phE97JPhrf0Y-55">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-57" value="Login / Refresh&lt;br&gt;api/fauna/auth/token?granttpe=login" style="text;html=1;strokeColor=default;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;perimeterSpacing=0;strokeWidth=1;spacing=2;spacingTop=0;" vertex="1" parent="1">
          <mxGeometry x="-95" y="229.55" width="145" height="60" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-63" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startArrow=none;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-99" target="6SLtEYj7phE97JPhrf0Y-55">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-67" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.13;entryY=0.77;entryDx=0;entryDy=0;entryPerimeter=0;fontSize=12;startArrow=classic;startFill=1;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-65" target="6SLtEYj7phE97JPhrf0Y-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-68" value="/.netlify/identity/verify" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;" vertex="1" connectable="0" parent="6SLtEYj7phE97JPhrf0Y-67">
          <mxGeometry x="-0.2781" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-107" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startArrow=none;startFill=0;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-61" target="6SLtEYj7phE97JPhrf0Y-104">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-114" value="user verified" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startArrow=none;startFill=0;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-61" target="6SLtEYj7phE97JPhrf0Y-99">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-61" value="Next /api/ folder middleware" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fontSize=12;strokeColor=#b85450;strokeWidth=1;fillColor=#f8cecc;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="300" y="372.5" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-65" value="Verify Bearer Netlify Access Token Function" style="whiteSpace=wrap;html=1;strokeWidth=1;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="280" y="660" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-66" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startArrow=classic;startFill=1;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-61" target="6SLtEYj7phE97JPhrf0Y-65">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-87" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="440" y="300" width="259.5" height="185.8" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-80" value="" style="group" vertex="1" connectable="0" parent="6SLtEYj7phE97JPhrf0Y-87">
          <mxGeometry x="68.5" width="191" height="185.8" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-81" value="" style="group" vertex="1" connectable="0" parent="6SLtEYj7phE97JPhrf0Y-80">
          <mxGeometry y="54.19999999999999" width="191" height="131.60000000000002" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-83" value="" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.saml_token;fillColor=#67AB9F;gradientColor=none;fontFamily=Helvetica;fontSize=12;fontColor=rgb(0, 0, 0);strokeColor=rgb(0, 0, 0);" vertex="1" parent="6SLtEYj7phE97JPhrf0Y-81">
          <mxGeometry x="-20" y="26.799999999999997" width="58" height="58" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-84" value="&amp;nbsp;Authorzation Header&lt;br&gt;Netlify Identity Access Token" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="6SLtEYj7phE97JPhrf0Y-87">
          <mxGeometry y="155.8" width="155" height="30" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-85" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;endArrow=none;endFill=0;" edge="1" parent="6SLtEYj7phE97JPhrf0Y-87" source="6SLtEYj7phE97JPhrf0Y-83" target="6SLtEYj7phE97JPhrf0Y-84">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-88" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="480" y="550" width="259.5" height="185.8" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-89" value="" style="group" vertex="1" connectable="0" parent="6SLtEYj7phE97JPhrf0Y-88">
          <mxGeometry x="10" y="37" width="191" height="185.8" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-90" value="" style="group" vertex="1" connectable="0" parent="6SLtEYj7phE97JPhrf0Y-89">
          <mxGeometry y="54.19999999999999" width="191" height="131.60000000000002" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-91" value="" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.saml_token;fillColor=#67AB9F;gradientColor=none;fontFamily=Helvetica;fontSize=12;fontColor=rgb(0, 0, 0);strokeColor=rgb(0, 0, 0);" vertex="1" parent="6SLtEYj7phE97JPhrf0Y-90">
          <mxGeometry x="-20" y="26.799999999999997" width="58" height="58" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-92" value="Netlify Identity Access Token" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="6SLtEYj7phE97JPhrf0Y-89">
          <mxGeometry x="-68.5" y="3" width="155" height="30" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-93" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;endArrow=none;endFill=0;" edge="1" parent="6SLtEYj7phE97JPhrf0Y-89" source="6SLtEYj7phE97JPhrf0Y-91" target="6SLtEYj7phE97JPhrf0Y-92">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-111" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;startArrow=classic;startFill=1;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-104" target="6SLtEYj7phE97JPhrf0Y-110">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-104" value="" style="shape=image;html=1;verticalAlign=top;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;imageAspect=0;aspect=fixed;image=https://cdn1.iconfinder.com/data/icons/nuvola2/48x48/actions/button_cancel.png;fontSize=12;strokeColor=default;strokeWidth=1;fillColor=default;gradientColor=#F7F7F7;" vertex="1" parent="1">
          <mxGeometry x="316" y="280" width="48" height="48" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-99" value="Success" style="html=1;shadow=0;dashed=0;shape=mxgraph.bootstrap.rrect;rSize=5;strokeColor=none;strokeWidth=1;fillColor=#33A64C;fontColor=#FFFFFF;whiteSpace=wrap;align=left;verticalAlign=middle;spacingLeft=0;fontStyle=1;fontSize=14;spacing=5;" vertex="1" parent="1">
          <mxGeometry x="50" y="402.5" width="65" height="20" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-116" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=1;exitDx=0;exitDy=0;fontSize=12;startArrow=none;startFill=0;strokeColor=#000000;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-110">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="816" y="370" as="targetPoint" />
            <Array as="points">
              <mxPoint x="420" y="340" />
              <mxPoint x="816" y="340" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-117" value="&lt;font color=&quot;#ff3333&quot; style=&quot;font-size: 15px;&quot;&gt;401 Response&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=15;fontStyle=1" vertex="1" connectable="0" parent="6SLtEYj7phE97JPhrf0Y-116">
          <mxGeometry x="-0.7525" relative="1" as="geometry">
            <mxPoint x="175" y="71" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-110" value="Unauthorized 401&lt;br&gt;user not verified with token. Request won&#39;t proceed to /api/" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=top;labelBackgroundColor=none;strokeWidth=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="260" y="110" width="160" height="86" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-121" value="" style="shape=image;html=1;verticalAlign=top;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;imageAspect=0;aspect=fixed;image=https://cdn4.iconfinder.com/data/icons/basic-user-interface-2/512/User_Interface-40-128.png;fontSize=15;fontColor=#FF3333;strokeColor=default;strokeWidth=1;fillColor=none;gradientColor=#F7F7F7;" vertex="1" parent="1">
          <mxGeometry x="1120" y="367.5" width="48" height="48" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-73" value="nf_jwt&lt;br&gt;jwt cookie in header" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;container=0;" vertex="1" parent="1">
          <mxGeometry x="662.5" y="480" width="155" height="30" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-74" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;endArrow=none;endFill=0;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-72" target="6SLtEYj7phE97JPhrf0Y-73">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-130" value="" style="group;fillColor=none;strokeColor=#d79b00;" vertex="1" connectable="0" parent="1">
          <mxGeometry x="1060" y="520" width="150" height="90" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-127" value="Client Side User Store&#xa;Memory &amp; Local Storage" style="strokeWidth=2;dashed=0;align=center;fontSize=12;shape=rect;verticalLabelPosition=bottom;verticalAlign=top;container=0;labelBackgroundColor=default;" vertex="1" parent="6SLtEYj7phE97JPhrf0Y-130">
          <mxGeometry width="150" height="90" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-29" value="" style="shape=datastore;whiteSpace=wrap;html=1;strokeColor=#9673a6;strokeWidth=1;fillColor=#e1d5e7;" vertex="1" parent="6SLtEYj7phE97JPhrf0Y-130">
          <mxGeometry x="43.5" y="10" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-133" style="rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=15;fontColor=#FF3333;startArrow=classic;startFill=1;endArrow=none;endFill=0;strokeColor=#333333;strokeWidth=1;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-132" target="6SLtEYj7phE97JPhrf0Y-55">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-135" style="edgeStyle=none;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=15;fontColor=default;startArrow=classic;startFill=1;endArrow=classic;endFill=1;strokeColor=#333333;strokeWidth=1;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-132" target="6SLtEYj7phE97JPhrf0Y-134">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-297.5" y="179.55" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-141" value="userId, password (secret)" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontColor=default;rotation=90;" vertex="1" connectable="0" parent="6SLtEYj7phE97JPhrf0Y-135">
          <mxGeometry x="0.2099" y="-2" relative="1" as="geometry">
            <mxPoint x="-2" y="21" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-146" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=default;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeColor=#333333;strokeWidth=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-160" target="6SLtEYj7phE97JPhrf0Y-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-160" y="620" as="targetPoint" />
            <Array as="points">
              <mxPoint x="800" y="560" />
              <mxPoint x="800" y="435" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-132" value="Fauna Login UDF" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;labelBackgroundColor=none;fontSize=15;fontColor=default;strokeColor=default;strokeWidth=1;fillColor=none;gradientColor=#F7F7F7;" vertex="1" parent="1">
          <mxGeometry x="-220" y="380" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-144" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=11;fontColor=default;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeColor=#333333;strokeWidth=1;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-147" target="6SLtEYj7phE97JPhrf0Y-136">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-134" value="Fauna DB" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=15;strokeColor=#6c8ebf;strokeWidth=1;fillColor=#dae8fc;" vertex="1" parent="1">
          <mxGeometry x="-220" y="150" width="120" height="70" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-143" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=11;fontColor=default;startArrow=none;startFill=0;endArrow=classic;endFill=1;strokeColor=#333333;strokeWidth=1;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-136" target="6SLtEYj7phE97JPhrf0Y-132">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-136" value="Successful Login Response" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;labelBackgroundColor=none;fontSize=11;strokeColor=#82b366;strokeWidth=1;fillColor=#d5e8d4;" vertex="1" parent="1">
          <mxGeometry x="-450" y="252.5" width="150" height="120" as="geometry">
            <mxRectangle x="-730" y="200" width="220" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-137" value="{User Profile}" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;labelBackgroundColor=none;fontSize=11;fontColor=default;" vertex="1" parent="6SLtEYj7phE97JPhrf0Y-136">
          <mxGeometry y="30" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-138" value="{access_token, ttl}" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;labelBackgroundColor=none;fontSize=11;fontColor=default;" vertex="1" parent="6SLtEYj7phE97JPhrf0Y-136">
          <mxGeometry y="60" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-139" value="{refresh_token, ttl}" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;labelBackgroundColor=none;fontSize=11;fontColor=default;" vertex="1" parent="6SLtEYj7phE97JPhrf0Y-136">
          <mxGeometry y="90" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-148" value="Success" style="html=1;shadow=0;dashed=0;shape=mxgraph.bootstrap.rrect;rSize=5;strokeColor=none;strokeWidth=1;fillColor=#33A64C;fontColor=#FFFFFF;whiteSpace=wrap;align=left;verticalAlign=middle;spacingLeft=0;fontStyle=1;fontSize=14;spacing=5;" vertex="1" parent="1">
          <mxGeometry x="-407.5" y="140" width="65" height="20" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-149" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=11;fontColor=default;startArrow=none;startFill=0;endArrow=none;endFill=1;strokeColor=#333333;strokeWidth=1;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-134" target="6SLtEYj7phE97JPhrf0Y-148">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-220" y="185" as="sourcePoint" />
            <mxPoint x="-375" y="252.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-147" value="" style="dashed=0;outlineConnect=0;html=1;align=center;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.weblogos.json_2;fillColor=#67AB9F;" vertex="1" parent="1">
          <mxGeometry x="-415.4" y="194.79999999999995" width="80.4" height="25.200000000000003" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-150" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=11;fontColor=default;startArrow=none;startFill=0;endArrow=none;endFill=1;strokeColor=#333333;strokeWidth=1;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-148" target="6SLtEYj7phE97JPhrf0Y-147">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-307.49999999999955" y="200" as="sourcePoint" />
            <mxPoint x="-375" y="252.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-72" value="" style="shape=image;html=1;verticalAlign=top;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;imageAspect=0;aspect=fixed;image=https://cdn2.iconfinder.com/data/icons/boxicons-regular-vol-1/24/bx-cookie-128.png;fillColor=#67AB9F;imageBackground=default;" vertex="1" parent="1">
          <mxGeometry x="711" y="383.05" width="58" height="58" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-151" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;endArrow=none;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-1" target="6SLtEYj7phE97JPhrf0Y-72">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="816.0000000000005" y="412.5" as="sourcePoint" />
            <mxPoint x="380" y="412.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-34" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="881" y="168" width="140" height="92" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-13" value="" style="shape=image;html=1;verticalAlign=top;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;imageAspect=0;aspect=fixed;image=https://cdn2.iconfinder.com/data/icons/boxicons-regular-vol-1/24/bx-cookie-128.png;fillColor=#67AB9F;" vertex="1" parent="1">
          <mxGeometry x="862" y="202" width="58" height="58" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-20" value="" style="dashed=0;outlineConnect=0;html=1;align=center;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.weblogos.json_2;fillColor=#67AB9F;" vertex="1" parent="1">
          <mxGeometry x="850.8" y="291.4" width="80.4" height="25.200000000000003" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-154" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startArrow=none;endArrow=none;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-13" target="6SLtEYj7phE97JPhrf0Y-20">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="918.5" y="243" as="sourcePoint" />
            <mxPoint x="891" y="367.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-156" value="Success" style="html=1;shadow=0;dashed=0;shape=mxgraph.bootstrap.rrect;rSize=5;strokeColor=none;strokeWidth=1;fillColor=#33A64C;fontColor=#FFFFFF;whiteSpace=wrap;align=left;verticalAlign=middle;spacingLeft=0;fontStyle=1;fontSize=14;spacing=5;" vertex="1" parent="1">
          <mxGeometry x="1060" y="168" width="65" height="20" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-157" value="" style="rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=1.03;entryY=0.45;entryDx=0;entryDy=0;fontSize=10;fontColor=default;startArrow=none;startFill=0;endArrow=none;endFill=0;strokeColor=#333333;strokeWidth=1;edgeStyle=elbowEdgeStyle;entryPerimeter=0;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-4" target="6SLtEYj7phE97JPhrf0Y-156">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1318" y="220" as="sourcePoint" />
            <mxPoint x="891" y="202" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-27" value="" style="sketch=0;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#505050;labelPosition=center;verticalLabelPosition=bottom;outlineConnect=0;verticalAlign=top;align=center;shape=mxgraph.office.clouds.cloud_service_request;" vertex="1" parent="1">
          <mxGeometry x="1360" y="367.9" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-158" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.55;entryY=0.95;entryDx=0;entryDy=0;entryPerimeter=0;strokeWidth=4;endArrow=none;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-1" target="6SLtEYj7phE97JPhrf0Y-27">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="966" y="412.57142857142867" as="sourcePoint" />
            <mxPoint x="1383.999999999999" y="256" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-159" value="Netlify Identity Login / Refresh&amp;nbsp;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="6SLtEYj7phE97JPhrf0Y-158">
          <mxGeometry x="-0.5492" y="-3" relative="1" as="geometry">
            <mxPoint x="60" y="-3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-160" value="Success" style="html=1;shadow=0;dashed=0;shape=mxgraph.bootstrap.rrect;rSize=5;strokeColor=none;strokeWidth=1;fillColor=#33A64C;fontColor=#FFFFFF;whiteSpace=wrap;align=left;verticalAlign=middle;spacingLeft=0;fontStyle=1;fontSize=14;spacing=5;" vertex="1" parent="1">
          <mxGeometry x="130" y="547.4" width="65" height="20" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-161" value="" style="rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=default;startArrow=none;startFill=0;endArrow=none;endFill=1;strokeColor=#333333;strokeWidth=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;edgeStyle=elbowEdgeStyle;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-162" target="6SLtEYj7phE97JPhrf0Y-160">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="816.0000000000005" y="435" as="targetPoint" />
            <mxPoint x="-160.07142857142844" y="440" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-162" value="" style="dashed=0;outlineConnect=0;html=1;align=center;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.weblogos.json_2;fillColor=#67AB9F;" vertex="1" parent="1">
          <mxGeometry x="-60" y="550" width="80.4" height="25.200000000000003" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-163" value="" style="edgeStyle=elbowEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=default;startArrow=none;startFill=0;endArrow=none;endFill=1;strokeColor=#333333;strokeWidth=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-132" target="6SLtEYj7phE97JPhrf0Y-162">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="190" y="565" as="targetPoint" />
            <mxPoint x="-159.94444444444434" y="440" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="-160" y="500" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-168" style="edgeStyle=elbowEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=default;startArrow=none;startFill=0;endArrow=none;endFill=0;strokeColor=#333333;strokeWidth=1;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-164" target="6SLtEYj7phE97JPhrf0Y-162">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-164" value="Response To Client" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;labelBackgroundColor=none;fontSize=11;strokeColor=#82b366;strokeWidth=1;fillColor=#d5e8d4;" vertex="1" parent="1">
          <mxGeometry x="-90" y="615.8" width="150" height="90" as="geometry">
            <mxRectangle x="-730" y="200" width="220" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-165" value="{User Profile}" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;labelBackgroundColor=none;fontSize=11;fontColor=default;" vertex="1" parent="6SLtEYj7phE97JPhrf0Y-164">
          <mxGeometry y="30" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-166" value="{access_token, ttl}" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;labelBackgroundColor=none;fontSize=11;fontColor=default;" vertex="1" parent="6SLtEYj7phE97JPhrf0Y-164">
          <mxGeometry y="60" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-171" style="edgeStyle=elbowEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;fontColor=default;startArrow=none;startFill=0;endArrow=none;endFill=0;strokeColor=#333333;strokeWidth=1;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-169" target="6SLtEYj7phE97JPhrf0Y-170">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-169" value="Set HTTP Secure JWT Cookie Header&lt;br&gt;Fauna Refresh Token as cookie&lt;br&gt;fn_tkn = {refresh_token, tll}" style="text;html=1;strokeColor=default;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;container=0;" vertex="1" parent="1">
          <mxGeometry x="-460" y="470" width="220" height="90" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-170" value="" style="shape=image;html=1;verticalAlign=top;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;imageAspect=0;aspect=fixed;image=https://cdn2.iconfinder.com/data/icons/boxicons-regular-vol-1/24/bx-cookie-128.png;fillColor=#67AB9F;imageBackground=#CC99FF;" vertex="1" parent="1">
          <mxGeometry x="-189" y="485.8" width="58" height="58" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-177" style="edgeStyle=elbowEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;fontSize=10;fontColor=default;startArrow=none;startFill=0;endArrow=none;endFill=0;strokeColor=#333333;strokeWidth=1;" edge="1" parent="1" source="6SLtEYj7phE97JPhrf0Y-173" target="6SLtEYj7phE97JPhrf0Y-127">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-173" value="Local Storage" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;labelBackgroundColor=none;fontSize=11;strokeColor=#9673a6;strokeWidth=1;fillColor=#e1d5e7;" vertex="1" parent="1">
          <mxGeometry x="860" y="520" width="150" height="120" as="geometry">
            <mxRectangle x="-730" y="200" width="220" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-174" value="{Netlify Access Token, TTL}" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;labelBackgroundColor=none;fontSize=11;fontColor=default;" vertex="1" parent="6SLtEYj7phE97JPhrf0Y-173">
          <mxGeometry y="30" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-175" value="{Fauna Access Token, TTL}" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;labelBackgroundColor=none;fontSize=11;fontColor=default;" vertex="1" parent="6SLtEYj7phE97JPhrf0Y-173">
          <mxGeometry y="60" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="6SLtEYj7phE97JPhrf0Y-176" value="Netlify App / User Metadata" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rotatable=0;labelBackgroundColor=none;fontSize=11;fontColor=default;" vertex="1" parent="6SLtEYj7phE97JPhrf0Y-173">
          <mxGeometry y="90" width="150" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
